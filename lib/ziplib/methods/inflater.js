function JSInflater(r){function t(r,t,n,e,f,a){this.status=0,this.root=null,this.maxbit=0;var i,u,l,o=[],s=[],b=[],x=[],c={extra:0,bitcnt:0,lbase:0,next:null};l=this.root=null;for(var v=0;17>v;v++)s[v]=0,b[v]=0,o[v]=0;for(v=0;288>v;v++)x[v]=0;i=t>256?r[256]:16;for(var h=-1;++h<t;)s[r[h]]++;if(s[0]!=t){for(var w=1;16>=w&&0==s[w];w++);var m=w;for(v=16;0!=v&&0==s[v];v--);var d=v;w>a&&(a=w);for(var g=1<<w;v>w;w++,g<<=1)if((g-=s[w])<0)return this.status=2,void(this.maxbit=a);if((g-=s[v])<0)return this.status=2,void(this.maxbit=a);s[v]+=g,o[1]=w=0,h=1;for(var k=2;--v>0;)o[k++]=w+=s[h++];h=0,v=0;do(w=r[h++])&&(x[o[w]++]=v);while(++v<t);t=o[d],o[0]=v=0,h=0;for(var p=-1,B=b[0]=0,y=null,I=0,q=[];d>=m;m++)for(var A=s[m];A-->0;){for(;m>B+b[1+p];){if(B+=b[1+p],p++,I=(I=d-B)>a?a:I,(u=1<<(w=m-B))>A+1)for(u-=A+1,k=m;++w<I&&!((u<<=1)<=s[++k]);)u-=s[k];for(B+w>i&&i>B&&(w=i-B),I=1<<w,b[1+p]=w,y=[];y.length<I;)y.push({extra:0,bitcnt:0,lbase:0,next:null});l=null==l?this.root={next:null,list:null}:l.next={next:null,list:null},l.next=null,l.list=y,q[p]=y,p>0&&(o[p]=v,c.bitcnt=b[p],c.extra=16+w,c.next=y,w=(v&(1<<B)-1)>>B-b[p],q[p-1][w].extra=c.extra,q[p-1][w].bitcnt=c.bitcnt,q[p-1][w].lbase=c.lbase,q[p-1][w].next=c.next)}for(c.bitcnt=m-B,h>=t?c.extra=99:x[h]<n?(c.extra=x[h]<256?16:15,c.lbase=x[h++]):(c.extra=f[x[h]-n],c.lbase=e[x[h++]-n]),u=1<<m-B,w=v>>B;I>w;w+=u)y[w].extra=c.extra,y[w].bitcnt=c.bitcnt,y[w].lbase=c.lbase,y[w].next=c.next;for(w=1<<m-1;0!=(v&w);w>>=1)v^=w;for(v^=w;(v&(1<<B)-1)!=o[p];)B-=b[p],p--}this.maxbit=b[1],this.status=0!=g&&1!=d?1:0}}function n(t){for(;t>k;)g|=r[q++]<<k,k+=8;return g}function e(r){return k-=r,g>>=r}function f(t){for(;t>k;)g|=r[q++]<<k,k+=8;var n=g&A[t];return g>>=t,k-=t,n}function a(r,t,a){var i,u;if(0==a)return 0;for(var l=0;;){for(u=b.list[n(c)&A[c]],i=u.extra;i>16;){if(99==i)return-1;e(u.bitcnt),i-=16,u=u.next[n(i)&A[i]],i=u.extra}if(e(u.bitcnt),16!=i){if(15==i)break;for(y=u.lbase+f(i),u=x.list[n(v)&A[v]],i=u.extra;i>16;){if(99==i)return-1;e(u.bitcnt),i-=16,u=u.next[n(i)&A[i]],i=u.extra}for(e(u.bitcnt),I=m-u.lbase-f(i);y>0&&a>l;)y--,I&=h-1,m&=h-1,r[t+l++]=w[m++]=w[I++];if(l==a)return a}else if(m&=h-1,r[t+l++]=w[m++]=u.lbase,l==a)return a}return p=-1,l}function i(r,t,n){e(7&k);var a=f(16);if(a!=(65535&~f(16)))return-1;for(y=a,a=0;y>0&&n>a;)y--,m&=h-1,r[t+a++]=w[m++]=f(8);return 0==y&&(p=-1),a}function u(r,n,e){var f=0;if(null==d){for(var i=[],u=0;144>u;u++)i[u]=8;for(;256>u;u++)i[u]=9;for(;280>u;u++)i[u]=7;for(;288>u;u++)i[u]=8;s=7;var l=new t(i,288,257,J,S,s);if(0!=l.status)return-1;for(d=l.root,s=l.maxbit,u=0;30>u;u++)i[u]=5;if(f=5,l=new t(i,30,0,z,R,f),l.status>1)return d=null,-1;o=l.root,f=l.maxbit}return b=d,x=o,c=s,v=f,a(r,n,e)}function l(r,i,u){for(var l=new Array(572),o=0;572>o;o++)l[o]=0;var s=257+f(5),h=1+f(5),w=4+f(4);if(s>286||h>30)return-1;for(var m=0;w>m;m++)l[j[m]]=f(3);for(;19>m;m++)l[j[m]]=0;c=7;var d=new t(l,19,19,null,null,c);if(0!=d.status)return-1;b=d.root,c=d.maxbit;for(var g=s+h,k=0,p=0;g>k;){var B=b.list[n(c)&A[c]];if(m=B.bitcnt,e(m),m=B.lbase,16>m)l[k++]=p=m;else if(16==m){if(m=3+f(2),k+m>g)return-1;for(;m-->0;)l[k++]=p}else if(17==m){if(m=3+f(3),k+m>g)return-1;for(;m-->0;)l[k++]=0;p=0}else{if(m=11+f(7),k+m>g)return-1;for(;m-->0;)l[k++]=0;p=0}}if(c=9,d=new t(l,s,257,J,S,c),0==c&&(d.status=1),0!=d.status)return-1;for(b=d.root,c=d.maxbit,k=0;h>k;k++)l[k]=l[k+s];return v=6,d=new t(l,h,0,z,R,v),x=d.root,v=d.maxbit,0==v&&s>257||0!=d.status?-1:a(r,i,u)}var o,s,b,x,c,v,h=32768,w=new Buffer(65536),m=0,d=null,g=0,k=0,p=-1,B=!1,y=0,I=0,q=0,A=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];return{inflate:function(r){b=null;for(var t,n=r.length,e=0;n>e;){if(B&&-1==p)return;if(y>0){if(0!=p)for(;y>0&&n>e;)y--,I&=h-1,m&=h-1,r[e++]=w[m++]=w[I++];else{for(;y>0&&n>e;)y--,m&=h-1,r[e++]=w[m++]=f(8);0==y&&(p=-1)}if(e==n)return}if(-1==p){if(B)break;B=0!=f(1),p=f(2),b=null,y=0}switch(p){case 0:t=i(r,e,n-e);break;case 1:t=null!=b?a(r,e,n-e):u(r,e,n-e);break;case 2:t=null!=b?a(r,e,n-e):l(r,e,n-e);break;default:t=-1}if(-1==t)return;e+=t}}}}var Buffer=require("buffer").Buffer;module.exports=function(r){var t=require("zlib");return{inflateAsync:function(n){var e=t.createInflateRaw(),f=[],a=0;e.on("data",function(r){f.push(r),a+=r.length}),e.on("end",function(){var r=new Buffer(a),t=0;r.fill(0);for(var e=0;e<f.length;e++){var i=f[e];i.copy(r,t),t+=i.length}n&&n(r)}),e.end(r)},inflate:function(t){var n={x:new JSInflater(r)};n.x.inflate(t),delete n.x}}};